{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//该文件专门用来创建和管理整个应用的路由器\nimport Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nVue.use(VueRouter);\n//地址和组件的对应关系\nconst routes = [{\n  path: '/login',\n  name: 'login',\n  meta: {\n    title: '登录'\n  },\n  component: () => import('@/views/Login')\n}, {\n  path: '/register',\n  name: 'register',\n  meta: {\n    title: '注册'\n  },\n  component: () => import('@/views/Register')\n}, {\n  path: '/404',\n  name: 'NotFound',\n  component: () => import('@/views/404')\n}, {\n  path: '/401',\n  name: 'NotFound',\n  component: () => import('@/views/401')\n}];\nconst router = new VueRouter({\n  routes,\n  base: process.env.BASE_URL,\n  mode: \"history\"\n});\nexport const resetRoutes = () => {\n  router.matcher = new VueRouter({\n    routes,\n    base: process.env.BASE_URL,\n    mode: \"history\"\n  });\n};\nexport const setRoutes = () => {\n  const storeMenus = localStorage.getItem(\"menus\");\n  if (storeMenus) {\n    const homeRoutes = {\n      path: '/',\n      name: 'Home',\n      component: () => import('../views/Home.vue'),\n      redirect: '/index',\n      meta: {\n        isAuto: false,\n        //是否需要路由组件拦截\n        title: '首页'\n      },\n      children: [{\n        path: 'person',\n        name: 'Person',\n        component: () => import('@/views/Person'),\n        meta: {\n          title: '个人主页'\n        }\n      }, {\n        path: 'upwd',\n        name: 'Upwd',\n        component: () => import('../views/Upwd.vue'),\n        meta: {\n          title: '修改密码'\n        }\n      }]\n    };\n    const menus = JSON.parse(storeMenus);\n    menus.forEach(item => {\n      if (item.path) {\n        let itemMenu = {\n          path: item.path.replace(\"/\", \"\"),\n          name: item.name,\n          component: () => import('../views/' + item.component + '.vue'),\n          meta: {\n            isAuto: false,\n            //是否需要路由组件拦截\n            title: item.name,\n            pid: item.pid\n          }\n        };\n        homeRoutes.children.push(itemMenu);\n      } else if (item.pid) {\n        let itemMenu = {\n          path: item.path.replace(\"/\", \"\"),\n          name: item.name,\n          component: () => import('../views/Home.vue'),\n          meta: {\n            isAuto: false,\n            //是否需要路由组件拦截\n            title: item.name,\n            pid: item.pid\n          }\n        };\n        homeRoutes.children.push(itemMenu);\n      } else if (item.children.length) {\n        item.children.forEach(item => {\n          if (item.pid) {\n            let itemMenu = {\n              path: item.path.replace(\"/\", \"\"),\n              name: item.name,\n              component: () => import('../views/' + item.component + '.vue'),\n              meta: {\n                isAuto: false,\n                //是否需要路由组件拦截\n                title: item.name,\n                pid: item.pid\n              }\n            };\n            homeRoutes.children.push(itemMenu);\n          }\n        });\n      }\n    });\n    console.log(homeRoutes);\n    const currentRoutes = router.getRoutes().map(v => v.name);\n    if (!currentRoutes.includes(\"Home\")) {\n      router.addRoute(homeRoutes);\n    }\n  }\n};\nsetRoutes();\n\n// 前置路由守卫 在每个路由之前\n// to 到哪去\n// from 由哪来\n// next 是否放行\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.length === 0) {\n    const storeMenus = localStorage.getItem(\"menus\");\n    if (storeMenus) {\n      // next('/404');\n    } else {\n      next('/login');\n    }\n  } else {\n    next();\n  }\n});\n// 后置路由守卫\nrouter.afterEach((to, from) => {\n  document.title = to.meta.title;\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","routes","path","name","meta","title","component","router","base","process","env","BASE_URL","mode","resetRoutes","matcher","setRoutes","storeMenus","localStorage","getItem","homeRoutes","redirect","isAuto","children","menus","JSON","parse","forEach","item","itemMenu","replace","pid","push","length","console","log","currentRoutes","getRoutes","map","v","includes","addRoute","beforeEach","to","from","next","matched","afterEach","document"],"sources":["F:/项目/SpringBoot+Vue/admin/vue-admin/src/router/index.js"],"sourcesContent":["//该文件专门用来创建和管理整个应用的路由器\r\nimport Vue from \"vue\";\r\nimport VueRouter from \"vue-router\"\r\n\r\nVue.use(VueRouter)\r\n//地址和组件的对应关系\r\nconst routes = [\r\n    {\r\n        path: '/login',\r\n        name: 'login',\r\n        meta: {\r\n            title: '登录'\r\n        },\r\n        component: () => import('@/views/Login')\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'register',\r\n        meta: {\r\n            title: '注册'\r\n        },\r\n        component: () => import('@/views/Register')\r\n    },\r\n    {\r\n        path: '/404',\r\n        name: 'NotFound',\r\n        component: () => import('@/views/404')\r\n    },\r\n    {\r\n        path: '/401',\r\n        name: 'NotFound',\r\n        component: () => import('@/views/401')\r\n    }\r\n]\r\nconst router = new VueRouter({\r\n    routes,\r\n    base: process.env.BASE_URL,\r\n    mode: \"history\"\r\n})\r\n\r\nexport const resetRoutes = () => {\r\n    router.matcher = new VueRouter({\r\n        routes,\r\n        base: process.env.BASE_URL,\r\n        mode: \"history\"\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const setRoutes = () => {\r\n    const storeMenus = localStorage.getItem(\"menus\");\r\n    if (storeMenus) {\r\n        const homeRoutes = {\r\n            path: '/', name: 'Home', component: () => import('../views/Home.vue'), redirect: '/index',\r\n            meta: {\r\n                isAuto: false,//是否需要路由组件拦截\r\n                title: '首页'\r\n            },\r\n            children: [{\r\n                path: 'person',\r\n                name: 'Person',\r\n                component: () => import('@/views/Person'),\r\n                meta: {title: '个人主页'}\r\n            }, {\r\n                path: 'upwd',\r\n                name: 'Upwd',\r\n                component: () => import('../views/Upwd.vue'),\r\n                meta: {title: '修改密码'}\r\n            }]\r\n        }\r\n        const menus = JSON.parse(storeMenus);\r\n        menus.forEach(item => {\r\n            if (item.path) {\r\n                let itemMenu = {\r\n                    path: item.path.replace(\"/\", \"\"),\r\n                    name: item.name,\r\n                    component: () => import('../views/' + item.component + '.vue'),\r\n                    meta: {\r\n                        isAuto: false,//是否需要路由组件拦截\r\n                        title: item.name,\r\n                        pid: item.pid\r\n                    }\r\n                }\r\n                homeRoutes.children.push(itemMenu);\r\n            }else if(item.pid){\r\n                let itemMenu = {\r\n                    path: item.path.replace(\"/\", \"\"),\r\n                    name: item.name,\r\n                    component: () => import('../views/Home.vue'),\r\n                    meta: {\r\n                        isAuto: false,//是否需要路由组件拦截\r\n                        title: item.name,\r\n                        pid: item.pid\r\n                    }\r\n                }\r\n                homeRoutes.children.push(itemMenu);\r\n            }else if (item.children.length) {\r\n                item.children.forEach(item => {\r\n                    if (item.pid) {\r\n                        let itemMenu = {\r\n                            path: item.path.replace(\"/\", \"\"),\r\n                            name: item.name,\r\n                            component: () => import('../views/' + item.component + '.vue'),\r\n                            meta: {\r\n                                isAuto: false,//是否需要路由组件拦截\r\n                                title: item.name,\r\n                                pid: item.pid\r\n                            }\r\n                        }\r\n                        homeRoutes.children.push(itemMenu);\r\n                    }\r\n                })\r\n            }\r\n        })\r\n        console.log(homeRoutes)\r\n        const currentRoutes = router.getRoutes().map(v => v.name);\r\n        if (!currentRoutes.includes(\"Home\")) {\r\n            router.addRoute(homeRoutes)\r\n        }\r\n    }\r\n}\r\nsetRoutes();\r\n\r\n// 前置路由守卫 在每个路由之前\r\n// to 到哪去\r\n// from 由哪来\r\n// next 是否放行\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.matched.length === 0) {\r\n        const storeMenus = localStorage.getItem(\"menus\");\r\n        if (storeMenus) {\r\n            // next('/404');\r\n        } else {\r\n            next('/login');\r\n        }\r\n    } else {\r\n        next();\r\n    }\r\n\r\n});\r\n// 后置路由守卫\r\nrouter.afterEach((to, from) => {\r\n    document.title = to.meta.title;\r\n\r\n})\r\nexport default router"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}