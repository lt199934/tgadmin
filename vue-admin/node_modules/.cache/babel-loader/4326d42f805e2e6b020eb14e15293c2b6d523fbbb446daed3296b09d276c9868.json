{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//该文件专门用来创建和管理整个应用的路由器\nimport Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nVue.use(VueRouter);\n//地址和组件的对应关系\nconst routes = [{\n  path: '/login',\n  name: 'login',\n  meta: {\n    title: '登录'\n  },\n  component: () => import('@/views/Login')\n}, {\n  path: '/register',\n  name: 'register',\n  meta: {\n    title: '注册'\n  },\n  component: () => import('@/views/Register')\n}, {\n  path: '/404',\n  name: 'NotFound',\n  component: () => import('@/views/404')\n}, {\n  path: '/401',\n  name: 'NotFound',\n  component: () => import('@/views/401')\n}];\nconst router = new VueRouter({\n  routes,\n  base: process.env.BASE_URL,\n  mode: \"history\"\n});\nexport const resetRoutes = () => {\n  router.matcher = new VueRouter({\n    routes,\n    base: process.env.BASE_URL,\n    mode: \"history\"\n  });\n};\nexport const setRoutes = () => {\n  const storeMenus = localStorage.getItem(\"menus\");\n  if (storeMenus) {\n    const homeRoutes = {\n      path: '/',\n      name: 'Home',\n      component: () => import('../views/Home.vue'),\n      redirect: '/index',\n      meta: {\n        isAuto: false,\n        //是否需要路由组件拦截\n        title: '首页'\n      },\n      children: [{\n        path: 'person',\n        name: 'Person',\n        component: () => import('@/views/Person'),\n        meta: {\n          title: '个人主页'\n        }\n      }, {\n        path: 'upwd',\n        name: 'Upwd',\n        component: () => import('../views/Upwd.vue'),\n        meta: {\n          title: '修改密码'\n        }\n      }]\n    };\n    const menus = JSON.parse(storeMenus);\n    let itemPMenu;\n    let itemCMenu;\n    menus.forEach(item => {\n      if (item.path) {\n        let itemMenu = {\n          path: item.path.replace(\"/\", \"\"),\n          name: item.name,\n          component: () => import('../views/' + item.component + '.vue'),\n          meta: {\n            title: item.name,\n            pid: item.pid\n          },\n          children: []\n        };\n        homeRoutes.children.push(itemMenu);\n      } else if (item.children.length) {\n        itemPMenu = {\n          path: item.path,\n          name: item.name,\n          component: () => import('../views/' + item.component + '.vue'),\n          meta: {\n            title: item.name,\n            pid: item.pid\n          },\n          children: []\n        };\n        item.children.forEach(child => {\n          if (child.pid === item.id) {\n            itemCMenu = {\n              path: child.path,\n              name: child.name,\n              component: () => import('../views/' + child.component + '.vue'),\n              meta: {\n                title: child.name,\n                pid: child.pid\n              }\n            };\n            itemPMenu.children.push(itemCMenu);\n            console.log(itemCMenu);\n          }\n        });\n        homeRoutes.children.push(itemPMenu);\n      }\n    });\n    console.log(homeRoutes);\n    const currentRoutes = router.getRoutes().map(v => v.name);\n    if (!currentRoutes.includes(\"Home\")) {\n      router.addRoute(homeRoutes);\n    }\n  }\n};\nsetRoutes();\n\n// 前置路由守卫 在每个路由之前\n// to 到哪去\n// from 由哪来\n// next 是否放行\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.length === 0) {\n    const storeMenus = localStorage.getItem(\"menus\");\n    if (storeMenus) {\n      // next('/404');\n    } else {\n      next('/login');\n    }\n  } else {\n    next();\n  }\n});\n// 后置路由守卫\nrouter.afterEach((to, from) => {\n  document.title = to.meta.title;\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","routes","path","name","meta","title","component","router","base","process","env","BASE_URL","mode","resetRoutes","matcher","setRoutes","storeMenus","localStorage","getItem","homeRoutes","redirect","isAuto","children","menus","JSON","parse","itemPMenu","itemCMenu","forEach","item","itemMenu","replace","pid","push","length","child","id","console","log","currentRoutes","getRoutes","map","v","includes","addRoute","beforeEach","to","from","next","matched","afterEach","document"],"sources":["F:/项目/SpringBoot+Vue/admin/vue-admin/src/router/index.js"],"sourcesContent":["//该文件专门用来创建和管理整个应用的路由器\r\nimport Vue from \"vue\";\r\nimport VueRouter from \"vue-router\"\r\n\r\nVue.use(VueRouter)\r\n//地址和组件的对应关系\r\nconst routes = [\r\n    {\r\n        path: '/login',\r\n        name: 'login',\r\n        meta: {\r\n            title: '登录'\r\n        },\r\n        component: () => import('@/views/Login')\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'register',\r\n        meta: {\r\n            title: '注册'\r\n        },\r\n        component: () => import('@/views/Register')\r\n    },\r\n    {\r\n        path: '/404',\r\n        name: 'NotFound',\r\n        component: () => import('@/views/404')\r\n    },\r\n    {\r\n        path: '/401',\r\n        name: 'NotFound',\r\n        component: () => import('@/views/401')\r\n    }\r\n]\r\nconst router = new VueRouter({\r\n    routes,\r\n    base: process.env.BASE_URL,\r\n    mode: \"history\"\r\n})\r\n\r\nexport const resetRoutes = () => {\r\n    router.matcher = new VueRouter({\r\n        routes,\r\n        base: process.env.BASE_URL,\r\n        mode: \"history\"\r\n    })\r\n}\r\n\r\n\r\nexport const setRoutes = () => {\r\n    const storeMenus = localStorage.getItem(\"menus\");\r\n    if (storeMenus) {\r\n        const homeRoutes = {\r\n            path: '/', name: 'Home', component: () => import('../views/Home.vue'), redirect: '/index',\r\n            meta: {\r\n                isAuto: false,//是否需要路由组件拦截\r\n                title: '首页'\r\n            },\r\n            children: [{\r\n                path: 'person',\r\n                name: 'Person',\r\n                component: () => import('@/views/Person'),\r\n                meta: {title: '个人主页'}\r\n            }, {\r\n                path: 'upwd',\r\n                name: 'Upwd',\r\n                component: () => import('../views/Upwd.vue'),\r\n                meta: {title: '修改密码'}\r\n            }]\r\n        }\r\n        const menus = JSON.parse(storeMenus);\r\n        let itemPMenu;\r\n        let itemCMenu;\r\n        menus.forEach(item => {\r\n            if (item.path) {\r\n                let itemMenu = {\r\n                    path: item.path.replace(\"/\", \"\"),\r\n                    name: item.name,\r\n                    component: () => import('../views/' + item.component + '.vue'),\r\n                    meta: {\r\n                        title: item.name,\r\n                        pid: item.pid\r\n                    },\r\n                    children: []\r\n                }\r\n                homeRoutes.children.push(itemMenu);\r\n            } else if (item.children.length) {\r\n                itemPMenu = {\r\n                    path: item.path,\r\n                    name: item.name,\r\n                    component: () => import('../views/' + item.component + '.vue'),\r\n                    meta: {\r\n                        title: item.name,\r\n                        pid: item.pid\r\n                    },\r\n                    children: []\r\n                }\r\n                item.children.forEach(child => {\r\n                    if (child.pid === item.id) {\r\n                        itemCMenu = {\r\n                            path: child.path,\r\n                            name: child.name,\r\n                            component: () => import('../views/' + child.component + '.vue'),\r\n                            meta: {\r\n                                title: child.name,\r\n                                pid: child.pid\r\n                            }\r\n                        }\r\n                        itemPMenu.children.push(itemCMenu);\r\n                        console.log(itemCMenu)\r\n                    }\r\n                })\r\n                homeRoutes.children.push(itemPMenu);\r\n            }\r\n        })\r\n\r\n        console.log(homeRoutes)\r\n        const currentRoutes = router.getRoutes().map(v => v.name);\r\n        if (!currentRoutes.includes(\"Home\")) {\r\n            router.addRoute(homeRoutes)\r\n        }\r\n    }\r\n}\r\nsetRoutes();\r\n\r\n// 前置路由守卫 在每个路由之前\r\n// to 到哪去\r\n// from 由哪来\r\n// next 是否放行\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.matched.length === 0) {\r\n        const storeMenus = localStorage.getItem(\"menus\");\r\n        if (storeMenus) {\r\n            // next('/404');\r\n        } else {\r\n            next('/login');\r\n        }\r\n    } else {\r\n        next();\r\n    }\r\n\r\n});\r\n// 后置路由守卫\r\nrouter.afterEach((to, from) => {\r\n    document.title = to.meta.title;\r\n\r\n})\r\nexport default router"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}